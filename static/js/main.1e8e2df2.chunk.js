(this["webpackJsonpappman-pokedex-2018"]=this["webpackJsonpappman-pokedex-2018"]||[]).push([[0],{32:function(e,n){e.exports={Psychic:"#f8a5c2",Fighting:"#f0932b",Fairy:"#c44569",Normal:"#f6e58d",Grass:"#badc58",Metal:"#95afc0",Water:"#3dc1d3",Lightning:"#f9ca24",Darkness:"#574b90",Colorless:"#FFF",Fire:"#eb4d4b",cardBoxShadow:"#d5d6dc",cardBoxShadowHover:"#aeaeae",cardBackground:"#f3f4f7",colorAddButton:"#dc7777",levelTubeBackground:"#e4e4e4",levelTubeBoxShadow:"#d4d4d4",levelTubeValueBackground:"#f3701a",bottomBarBackground:"#ec5656",bottomBarBoxShadow:"#d9333387",bottomBarTextColor:"#ffffff",modalOutside:"#000000a3",modalContentBoxShadow:"#474444",modalContentBackground:"#ffffff",searchBoxBorder:"#e6e6e6"}},36:function(e,n,t){e.exports=t.p+"static/media/cute.c5dd531a.png"},37:function(e,n,t){e.exports=t.p+"static/media/search.42300f5b.png"},38:function(e,n,t){e.exports=t(73)},70:function(e,n,t){},72:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(11),o=t.n(c),i=t(3),s=t(5),u=t(29),l=t(12),d=t(30),p=t.n(d),m=t(9),f=t(6),h=t(7),b=t.n(h),E=t(10),g=t.n(E),x="token",v=/^(?:\w+:)\/\//;g.a.interceptors.request.use((function(e){var n;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return v.test(e.url)||((n=localStorage.getItem(x))&&(e.headers={"x-access-token":n}),e.url="http://localhost:3030/"+e.url),t.abrupt("return",e);case 2:case"end":return t.stop()}}))})),g.a.interceptors.response.use((function(e){return e}),(function(e){return g.a.isCancel(e)?Promise.reject(e):e.response?Promise.reject(e):(console.log("ERROR ",e.response),Promise.reject(JSON.stringify({code:"NOT_CONNECT_NETWORK",message:"Cannot connect to server, Please try again."})))}));var O=g.a,k=function(e){return{type:"GET_POKEDEX_LIST_SUCCESS",payload:e}},_=function(e){return{type:"GET_POKEDEX_LIST_FAIL",payload:e}},w=function(){return function(e){var n;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:"GET_POKEDEX_LIST_START"}),t.next=4,b.a.awrap(O.get("api/cards"));case 4:n=t.sent,e(k(n.data.cards)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e(_(t.t0.message));case 11:case"end":return t.stop()}}),null,null,[[0,8]])}},y=function(e){return{type:"GET_SEARCH_POKEDEX_FAIL",payload:e}},S=function(e){return{type:"REMOVE_ITEM_FROM_MY_POKEDEX_LIST",payload:e}},j={fetching:!1,pokedexList:[],myPokedexList:[]},T=function(e){return e.map((function(e){var n="string"===typeof e.hp?+e.hp>100?100:+e.hp:0,t=e.attacks?50*e.attacks.length>=100?100:50*e.attacks.length:0,a=e.weaknesses?50*e.weaknesses.length>=100?100:50*e.weaknesses.length:0,r=e.attacks?e.attacks.reduce((function(e,n){return e+ +n.damage.match(/\d+/g)}),0):0,c=e.weaknesses?Math.round((n/10+r/10+10-e.weaknesses.length)/5):0;return Object(f.a)({},JSON.parse(JSON.stringify(e)),{hp:n,strength:t,weakness:a,damage:r,happiness:c})}))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_SEARCH_POKEDEX_START":case"GET_POKEDEX_LIST_START":return Object(f.a)({},e,{fetching:!e.fetching});case"GET_SEARCH_POKEDEX_SUCCESS":case"GET_POKEDEX_LIST_SUCCESS":return Object(f.a)({},e,{pokedexList:T(n.payload.filter((function(n){return!e.myPokedexList.find((function(e){return e.id===n.id}))}))),fetching:!1});case"GET_SEARCH_POKEDEX_FAIL":case"GET_POKEDEX_LIST_FAIL":return Object(f.a)({},e,{pokedexList:[],fetching:!1});case"ADD_ITEM_TO_MY_POKEDEX_LIST":return Object(f.a)({},e,{pokedexList:e.pokedexList.filter((function(e){return e.id!==n.payload.id})),myPokedexList:[].concat(Object(m.a)(e.myPokedexList),[n.payload])});case"REMOVE_ITEM_FROM_MY_POKEDEX_LIST":return Object(f.a)({},e,{myPokedexList:e.myPokedexList.filter((function(e){return e.id!==n.payload.id})),pokedexList:[n.payload].concat(Object(m.a)(e.pokedexList))});default:return e}},L={isShow:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"OPEN_ADD_MODAL":return Object(f.a)({},e,{isShow:!0});case"CLOSE_ADD_MODAL":return Object(f.a)({},e,{isShow:!1});default:return e}},P={key:"root",storage:p.a,whiteList:["pokedex"]},B=Object(s.c)({pokedex:N,ui:D}),A=Object(l.a)(P,B),C=Object(s.d)(A,Object(s.a)(u.a)),R=Object(l.b)(C),I=t(31),M=t(1),K=t(32),X=t.n(K),G=(t(70),t(2)),F=t(13);function H(){var e=Object(G.a)(["\n  display: flex;\n  align-items: center;\n\n  > .label {\n    width: 20%;\n    max-width: 100px;\n    margin-right: 10px;\n    font-size: 16px;\n  }\n\n  > .progress-bar {\n    max-width: 300px;\n    width: 70%;\n    height: 24px;\n    border: 1px solid ",";\n    background-color: ",";\n    border-radius: 10px;\n    overflow: hidden;\n\n    > .level {\n      height: 100%;\n      width: ","%;\n      background-color: ",";\n    }\n  }\n"]);return H=function(){return e},e}var z=Object(M.b)((function(e){var n=e.className,t=e.label;return r.a.createElement("div",{className:n},r.a.createElement("span",{className:"label"},t),r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"level"})))}))(H(),(function(e){return e.theme.levelTubeBoxShadow}),(function(e){return e.theme.levelTubeBackground}),(function(e){return e.value}),(function(e){return e.theme.levelTubeValueBackground})),J=t(36),U=t.n(J);function Y(){var e=Object(G.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 8px;\n\n  > .happiness-icon {\n    margin-right: 2px;\n    margin-bottom: 2px;\n  }\n"]);return Y=function(){return e},e}var V=Object(M.b)((function(e){var n=e.className,t=e.happiness;return r.a.createElement("div",{className:n},Object(m.a)(new Array(t)).map((function(e,n){return r.a.createElement("img",{key:n,src:U.a,height:38,alt:"hapiness-img",className:"happiness-icon"})})))}))(Y());function W(){var e=Object(G.a)(["\n  display: flex;\n  height: 200px;\n  padding: 10px;\n  position: relative;\n  background-color: ",";\n  margin-bottom: 20px;\n  border: 1px solid ",";\n\n  &:hover {\n    box-shadow: 0 0 5px ",";\n  }\n\n  > .left-section {\n    width: 30%;\n    min-width: 105px;\n    max-width: 120px;\n\n    > .pokedex-image {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  > .right-section {\n    flex: 1;\n    padding: 10px 0 0 10px;\n    overflow: auto;\n\n    \n    ::-webkit-scrollbar {\n      display: none;\n    }  \n\n    > .title {\n      margin: 0;\n      font-family: Gaegu;\n      font-size: 2rem;\n      text-transform: uppercase;\n    }\n  }\n\n  > .add-button {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n    font-size: 2rem;\n    color: ",";\n    cursor: pointer;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n"]);return W=function(){return e},e}var q=Object(M.b)((function(e){var n=e.className,t=e.pk,c=Object(a.useState)(!1),o=Object(F.a)(c,2),s=o[0],u=o[1],l=Object(i.b)(),d=Object(i.c)((function(e){return e.ui.isShow}));return r.a.createElement("div",{className:n,onMouseOver:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},r.a.createElement("div",{className:"left-section"},r.a.createElement("img",{src:t.imageUrlHiRes,className:"pokedex-image",alt:"pokedex-".concat(t.id)})),r.a.createElement("div",{className:"right-section"},r.a.createElement("h2",{className:"title"},t.name),r.a.createElement(z,{label:"HP",value:t.hp}),r.a.createElement(z,{label:"STR",value:t.strength}),r.a.createElement(z,{label:"WEAK",value:t.weakness}),r.a.createElement(V,{happiness:t.happiness})),s?d?r.a.createElement("span",{className:"add-button",onClick:function(){return l({type:"ADD_ITEM_TO_MY_POKEDEX_LIST",payload:t})}},"Add"):r.a.createElement("span",{className:"add-button",onClick:function(){return l((e=t,function(n){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(S(e)),n({type:"GET_POKEDEX_LIST_START"}),a.next=5,b.a.awrap(O.get("api/cards"));case 5:t=a.sent,n(k(t.data.cards)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n(_(a.t0.message));case 12:case"end":return a.stop()}}),null,null,[[0,9]])}));var e}},"X"):null)}))(W(),(function(e){return e.theme.cardBackground}),(function(e){return e.theme.cardBoxShadow}),(function(e){return e.theme.cardBoxShadowHover}),(function(e){return e.theme.colorAddButton}));function Q(){var e=Object(G.a)(["\n  > .pokedex-list {\n    width: 100%;\n    height: calc(768px - 150px);\n    overflow: scroll;\n    padding: 10px 10px 0;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    align-content: flex-start;\n\n    ::-webkit-scrollbar {\n      display: none;\n    }    \n\n    > .my-pokedex-card {\n      width: 49%;\n\n      &:last-child {\n        margin-bottom: 150px;\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var Z=Object(M.b)((function(e){var n=e.className,t=Object(i.b)();Object(a.useEffect)((function(){t(w())}),[t]);var c=Object(i.c)((function(e){return e.pokedex.myPokedexList}));return r.a.createElement("div",{className:n},r.a.createElement("div",{className:"pokedex-list"},c.map((function(e){return r.a.createElement(q,{key:e.id,pk:e,className:"my-pokedex-card"})}))))}))(Q());function $(){var e=Object(G.a)(["\n  width: 100%;\n  height: 50px;\n  background-color: ",";\n  position: absolute;\n  bottom: 0;\n  right: 0;\n\n  > .add-button {\n    font-size: 2rem;\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    border-radius: 50%;\n    width: 100px;\n    height: 100px;\n    background-color: inherit;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-family: inherit;\n    font-size: 5rem;\n    box-shadow: inset 0 10px 10px ",";\n    color: ",";\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n"]);return $=function(){return e},e}var ee=Object(M.b)((function(e){var n=e.className,t=Object(i.b)();return r.a.createElement("div",{className:n},r.a.createElement("span",{className:"add-button",onClick:function(){return t({type:"OPEN_ADD_MODAL"})}},"+"))}))($(),(function(e){return e.theme.bottomBarBackground}),(function(e){return e.theme.bottomBarBoxShadow}),(function(e){return e.theme.bottomBarTextColor})),ne=t(37),te=t.n(ne);function ae(){var e=Object(G.a)(["\n  position: relative;\n  padding: 10px;\n  width: 100%;\n  height: 10%;\n\n  > .search-input {\n    width: 100%;\n    height: 100%;\n    outline: none;\n    border: 1px solid ",";\n    border-radius: 10px;\n    font-size: 2rem;\n    font-family: Gaegu;\n    padding-right: 50px;\n  }\n\n  > .search-image {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    right: 20px;\n    height: 80%;\n  }\n"]);return ae=function(){return e},e}var re=Object(M.b)((function(e){var n=e.className,t=Object(a.useRef)(null),c=Object(a.useState)(""),o=Object(F.a)(c,2),s=o[0],u=o[1],l=Object(i.b)();return Object(a.useEffect)((function(){setTimeout((function(){var e;t.current&&t.current.value===s&&l(""!==s?(e=s,function(n){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"GET_SEARCH_POKEDEX_START"}),a.next=4,b.a.awrap(O.get("api/cards",{params:{name:e,type:e}}));case 4:t=a.sent,n({type:"GET_SEARCH_POKEDEX_SUCCESS",payload:t.data.cards}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n(y());case 11:case"end":return a.stop()}}),null,null,[[0,8]])}):w())}),500)}),[s,l,t]),r.a.createElement("div",{className:n},r.a.createElement("input",{type:"text",ref:t,placeholder:"Find pokemon",className:"search-input",value:s,onChange:function(e){return u(e.target.value)}}),r.a.createElement("img",{src:te.a,className:"search-image",alt:"search-img"}))}))(ae(),(function(e){return e.theme.searchBoxBorder}));function ce(){var e=Object(G.a)(["\n  height: 90%;\n  overflow: scroll;\n  padding: 20px;\n"]);return ce=function(){return e},e}var oe=Object(M.b)((function(e){var n=e.className,t=Object(i.c)((function(e){return e.pokedex.pokedexList}));return r.a.createElement("div",{className:n},t.map((function(e){return r.a.createElement(q,{key:e.id,pk:e})})))}))(ce());function ie(){var e=Object(G.a)(["\n  > .overlay {\n    background-color: ",";\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 999;\n  }\n\n  > .card {\n    width: 90%;\n    height: 92%;\n    position: absolute;\n    overflow: hidden;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    border-radius: 10px;\n    z-index: 9999;\n    background-color: ",";\n  }\n"]);return ie=function(){return e},e}var se=Object(M.b)((function(e){var n=e.className,t=Object(i.b)();return r.a.createElement("div",{className:n},r.a.createElement("div",{className:"overlay",onClick:function(){t({type:"CLOSE_ADD_MODAL"}),t(w())}}),r.a.createElement("div",{className:"card"},r.a.createElement(re,null),r.a.createElement(oe,null)))}))(ie(),(function(e){return e.theme.modalOutside}),(function(e){return e.theme.modalContentBackground}));function ue(){var e=Object(G.a)(["\n  > .title {\n    text-align: center;\n    margin-bottom: 0;\n  }\n"]);return ue=function(){return e},e}var le=Object(M.b)((function(e){var n=e.className,t=Object(i.c)((function(e){return e.ui.isShow}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:n},r.a.createElement("h1",{className:"title"},"My Pokedex"),r.a.createElement(Z,null),r.a.createElement(ee,null)),t?r.a.createElement(se,null):null)}))(ue()),de=(t(72),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(le,null))});o.a.render(r.a.createElement(i.a,{store:C},r.a.createElement(M.a,{theme:X.a},r.a.createElement(I.a,{persistor:R},r.a.createElement(de,null)))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1e8e2df2.chunk.js.map